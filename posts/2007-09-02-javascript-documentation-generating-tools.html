<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="no-webfont"><head><title>realazy: JavaScript 文档生成工具</title><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/><link rel="alternate" href="http://feeds.feedburner.com/realazy" type="application/atom+xml" title="Realazy"/><link rel="stylesheet" href="/assets/style.css"/></head><body id="post">
      <header>
        <h1>JavaScript 文档生成工具</h1>
        <div class="meta">
          <time datetime="2007-09-02">二〇〇七年九月二日</time>
        </div>
      </header>
      <main>
        <p>如果你看过 YUI 的 RAW 源码，会发现很多跟 javadoc 语法类似的注释。据说 (<a href='http://www.phpied.com/running-jsdoc-on-windows/#comment-762'>via</a>) 是使用 <a href='http://jsdoc.sourceforge.net/'>JSDoc</a> 这个工具。但我探索了一遍，发现 YUI 多出很多 tag, 比如 <code>@namespace</code>, <code>@static</code> 之类，那么我只好怀疑 YUI 做了改良。一开始，我也试着使用了一下 JSDoc，遗憾的是，除了缺少一些 tag 外，它还不支持未匿名函数内的文档生成。比如，有时候为了保证不产生额外的全局变量会这么写：</p>
<pre class='js'><code class='js'>(function(){
/**
 * 注释
 * @tag
 */
....
})();</code></pre>

<p>或者我所喜欢的 “<a href='http://yuiblog.com/blog/2007/06/12/module-pattern/'>module pattern</a>”:</p>
<pre class='js'><code class='js'>var module = function(){
    var private;
    return {
    /**
     * 注释
     * @tag
     */
    pub1: function(){},
    pub2: function(){},
    ...
    }
}();</code></pre>

<p>在这种情况下，在匿名函数内，和在 return 区块内的注释，JSDoc 就，用北京话说，「葛屁」（音）了，就是不起作用了。遗憾的是我的水平尚未上升到改良 perl 脚本以能按我所需的程度，因此，我寻找的是下一个目标。</p>
<p><a href='http://jsdoctoolkit.org/'>JsDoc Toolkit</a> 是一个不错的选择，虽然名称跟 JSDoc 不太容易区分。相比之下，它是使用 JavaScript 来处理文档的（当然，得通过 rhino），而且支持我前面所列举的两种形式（单是这点，我就只能选择它了）。</p>
<p>两者在 tag 的处理方面有所不同，感觉 JSDoc 的全面一些，但缺乏某些关键的 tag，比如 JsDoc Toolkit 中的 <code>@scope</code> 就很好用。</p>
<p>至于如何安装使用，直接上官网看吧 :)。欢迎同我交流。</p>
<p>粗粗看了一下 jQuery，似乎它也是通过 rhino 来处理文档生成的，嗯，我也得钻研一下，hack 出符合我要求的工具了。</p>

      </main>
      <footer>
      <div class="intro"><img src="/assets/avatar.jpg" alt="头像" width="128"/><p>我是陈贤安，喜欢钻研构建程序介面的技术，偏好静态类型函数式编程。常用编程语言有 JavaScript，会使 Swift、Objective-C、F# 和 OCaml。能看懂 C，想学会 Haskell 和 Erlang。逼急了也能撸起袖子码码其他的语言。realazy, 意取「真懒」，因为我相信，懒，对程序员来说，是一种美德。</p></div><p>2005 ～ 2020 ©
        <span><a href="/">realazy</a></span>
        <span><a href="https://twitter.com/_cxa">Twitter</a></span>
        <span><a href="https://github.com/cxa">GitHub</a></span>
        <span><a href="https://github.com/cxa/cxa.github.com.git">本站源码</a></span>
       </p>
       </footer>
       <script src="/assets/highlight.js"> </script>
       <script src="/assets/script.js"> </script>
    
  
  </body></html>