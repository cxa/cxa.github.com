<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"class="no-webfont"><title>realazy: 未知高度的非表格垂直对齐</title><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1,viewport-fit=cover"><link rel="alternate"href="http://feeds.feedburner.com/realazy"type="application/atom+xml"title="Realazy"><link rel="stylesheet"href="/assets/style.min.css"><body id="post"><header><h1><a href="/">真・懒</a></h1><section><span><a href="/feed.atom">订阅</a></span> <span><a href="https://twitter.com/_cxa">Twitter</a></span> <span><a href="https://github.com/cxa">GitHub</a></span> <span><a href="mailto:xianan.chen@gmail.com">联系</a></span></section></header><main><h1>未知高度的非表格垂直对齐</h1><section class="meta"><time datetime="2007-03-10">二〇〇七年三月十日</time></section><p>非已知高度的垂直对齐的条件：<ul><li>表格单元格<li>行内块（<code>inline-block</code>）</ul><p>第一个比较好理解，第二个很多人可能会忽略。比如，很多人在图片与文本混排的时候想让图片相对于文本垂直居中除了用 IE 的私有特性 <code>valign=&quot;absmiddle&quot;</code> 别无他法。记住，默认下图片就是属于 <code>inline-block</code>，你只需简单的 <code>img {vertical-align:middle;}</code> 即可。<p>那么，我们进入主题。现在我们由于某些特殊需要两个并排的 <code>div</code> 想实现垂直居中。如前所述，<code>div</code> 非表格，但是当代的浏览器中除了 IE 都支持 <code>display:table-cell</code>。恰好，IE 支持 <code>dispaly:inline-block</code>，那么我们就用两种方式为当代浏览器实现非表格的垂直居中，殊途同归。<p>HTML 如下：<pre class="html"><code class="html">&lt;div id=&quot;div1&quot;&gt;blah blah...看见我居中了吗？&lt;/div&gt;
&lt;div id=&quot;div2&quot;&gt;
  &lt;p&gt;blah blah...&lt;/p&gt;
  ....
&lt;/div&gt;</code></pre><p>CSS 如下：<pre class="css"><code class="css">#div1,
#div2 {
  display: table-cell;
  *display: inline;
  zoom: 1;
  vertical-align: middle;
}</code></pre><p>我们来重点分析 CSS。如您所知，<code>*property</code> 是一个只有 IE（包括 IE7）才能解析的 hack. 那么为何是 <code>inline</code> 而不是 <code>inline-block</code> 呢？这跟 IE 的变态工作方式有关，具体不深究。在此你只需知道加上 <code>zoom:1</code> 后，就等价于 <code>inline-block</code>。另外，如果是 <code>a</code>, <code>span</code> 等非 <code>block</code> 的元素，则按正常方式 <code>display:inline-block</code>。<p>OK, 既然是 tip, 废话不宜多，自己看例子：<a href="http://realazy.com/lab/div-valign/">http://realazy.com/lab/div-valign/</a>.<p><strong>Update:</strong>严格地说，IE 确实不支持 <code>inline-block</code>，这就是为什么直接赋予 <code>div</code> 会不生效的问题。准确地说，在 IE 中，为 <code>inline</code> 赋予 <code>inline-block</code> 会使 IE 触发 hasLayout，从而获得部分 <code>inline-block</code> 的表现。请参考：<a href="http://cn.autos.yahoo.com/as2007/sub1/index.html">http://cn.autos.yahoo.com/as2007/sub1/index.html</a>.</main><footer><div class="intro"><img src="/assets/avatar.png"alt="头像"width="128"><p>我是陈贤安，喜欢钻研构建程序介面的技术，偏好静态类型函数式编程。常用编程语言有 JavaScript，会使 Swift、Objective-C、F# 和 OCaml。能看懂 C，想学会 Haskell 和 Erlang。逼急了也能撸起袖子码码其他的语言。realazy, 意取「真懒」，因为我相信，懒，对程序员来说，是一种美德。</div><p>2005 ～ 2021 © <span><a href="/">realazy</a></span> <span><a href="https://github.com/cxa/cxa.github.com.git">本站源码</a></span></footer><script src="/assets/highlight.js"></script><script src="/assets/script.js"></script>